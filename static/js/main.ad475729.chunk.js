(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(46),o=n.n(a),i=n(7),c=n(2),u=n(3),l=n(5),d=n(4),m=n(6),p=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={loaded:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.setState({loaded:!0})},this.props.delay)}},{key:"render",value:function(){var e=n(90);return s.a.createElement("header",{id:"app-header",className:this.state.loaded?"":"hidden"},s.a.createElement("img",{src:e}),s.a.createElement("h1",null,"Hanoi Tower"))}}]),t}(s.a.Component),h=function(e){return{type:"ENABLE_MODAL",mode:e}},v=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={hovered:!1},n.movesStyle={display:"flex",width:"3.0rem",justifyContent:"space-around"},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleControl",value:function(e){var t=this;switch(e){case"increment":this.props.incrementDiscsNum();break;case"decrement":this.props.decrementDiscsNum()}this.props.enableModal("loading"),setTimeout(function(){return t.props.removeModal()},1e3)}},{key:"renderValueContainer",value:function(){var e=this;switch(this.props.klass){case"discs":return s.a.createElement("div",{id:"value-container"},s.a.createElement("p",{className:"label"},this.props.discsNum),s.a.createElement("div",{id:"discs-controller"},s.a.createElement("p",{className:"controller",onClick:function(){return e.handleControl("increment")}},"+"),s.a.createElement("p",{className:"controller",onClick:function(){return e.handleControl("decrement")},style:{transform:"scale(1.7)"}},"-")));case"moves":return s.a.createElement("p",{className:"label",style:this.movesStyle},s.a.createElement("span",null,"".concat(this.props.moves)),s.a.createElement("span",null,"(".concat(this.props.minMoves,")")))}}},{key:"render",value:function(){var e=this;switch(this.props.klass){case"discs":this.label="Discs";break;case"moves":this.label="Moves (Min. moves)"}return s.a.createElement("div",{className:"info",onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})},style:"discs"===this.props.klass?{paddingBottom:"1rem"}:{}},s.a.createElement("p",{className:this.state.hovered?"label hovered":"label"},this.label),this.renderValueContainer())}}]),t}(s.a.Component),f=Object(i.b)(function(e){return e.game},function(e){return{incrementDiscsNum:function(){return e({type:"INCREMENT_DISCS_NUM"})},decrementDiscsNum:function(){return e({type:"DECREMENT_DISCS_NUM"})},enableModal:function(t){return e(h(t))},removeModal:function(){return e({type:"REMOVE_MODAL"})}}})(v),b=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(){this.props.restartGame(),this.props.enableModal("loading")}},{key:"render",value:function(){var e=this;return s.a.createElement("button",{className:"game-starter",onClick:function(){return e.handleClick()}},this.props.klass)}}]),t}(s.a.Component),E=Object(i.b)(function(e){return e.game},function(e){return{restartGame:function(){return e({type:"RESTART_GAME"})},enableModal:function(t){return e(h(t))}}})(b),O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={loaded1:!1,loaded2:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.setState({loaded1:!0})},this.props.delay),setTimeout(function(){return e.setState({loaded2:!0})},this.props.delay+500)}},{key:"render",value:function(){return s.a.createElement("div",{id:"panel",className:this.state.loaded1?"":"hidden"},s.a.createElement("div",{id:"game-info",className:this.state.loaded2?"":"hidden"},s.a.createElement(f,{klass:"discs"}),s.a.createElement(f,{klass:"moves"})),s.a.createElement("div",{id:"buttons",className:this.state.loaded2?"":"hidden"},s.a.createElement(E,{klass:"restart"})))}}]),t}(s.a.Component),g=Object(i.b)(function(e){return e.game},function(e){return{}})(O),y=n(79),M=n.n(y),w=n(15),D=function(e){for(var t=[],n=0;n<e;n++)t.push(n);return t},j=function(e){var t={};return D(3).forEach(function(n){t[n]=0===n?D(e):[]}),t},N=function(e,t){for(var n=0;n<Object.keys(e).length;n++){var r=e[n],s=t[n];if(r.length!==s.length)return!0}return!1},T={beginDrag:function(e){return e.i>0?{}:(console.log("A"),{startTower:e.tower})},endDrag:function(e,t){return e.i>0||!t.didDrop()?{}:(console.log("B"),e.moveDiscFrom(e.tower),e.enableModal("loading"),{startTower:e.tower})}},k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={loaded:!1,towerHeight:n.props.towerHeight},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.setState({loaded:!0})},this.props.delay)}},{key:"componentWillReceiveProps",value:function(e){this.props.towerHeight!==e.towerHeight&&this.setState({towerHeight:e.towerHeight})}},{key:"render",value:function(){var e=this.props,t=e.connectDragSource;e.isDragging;return t(s.a.createElement("li",{className:this.state.loaded?"disc":"disc hidden",style:this.props.styling}))}}]),t}(s.a.Component),S=Object(w.DragSource)("disc-and-tower",T,function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(k),C={drop:function(e,t,n){e.setEndTower(e.idx),console.log("C")}},_=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={loaded:!1,discs:D(n.props.noOfDiscs)},n.colors={0:"#E02936",1:"#D6752D",2:"#BAB341",3:"#189A79",4:"#107392",5:"#493362",6:"#6A5279",7:"#5C6D98"},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.setState({loaded:!0})},this.props.delay)}},{key:"componentWillReceiveProps",value:function(e){var t=this;(this.props.startTower||"number"!==typeof e.startTower||e.startTower!==e.idx&&e.endTower!==e.idx)&&!N(this.props.discs,e.discs)||(this.setState({discs:e.discs[e.idx]}),this.props.resetForNextMove(),setTimeout(function(){return t.props.removeModal()},1200))}},{key:"generateDiscs",value:function(){var e=this,t=this.props,n=t.idx,r=t.delay;t.moving;return this.state.discs.map(function(t){var a={background:e.colors[t],transform:"scaleX(".concat(2+1*t,")")};return s.a.createElement(S,{key:t,i:e.state.discs.indexOf(t),tower:n,towerHeight:e.state.discs.length,styling:a,delay:r+250*(e.state.discs.length-(t+1)),moveDiscFrom:function(t){return e.props.moveDiscFrom(t)},enableModal:function(t){return e.props.enableModal(t)}})})}},{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,n=e.hovered,r=(e.item,n?{background:"#a1a1a1",borderBottomColor:"#a1a1a1"}:{});return t(s.a.createElement("ul",{id:"tower-".concat(this._reactInternalFiber.key),className:this.state.loaded?"tower":"tower hidden",style:r},this.generateDiscs()))}}]),t}(s.a.Component),R=Object(w.DropTarget)("disc-and-tower",C,function(e,t){return{connectDropTarget:e.dropTarget(),hovered:t.isOver(),item:t.getItem()}})(Object(i.b)(function(e){return e.game},function(e){return{moveDiscFrom:function(t){return e(function(e){return{type:"MOVE_DISC_FROM",tower:e}}(t))},resetForNextMove:function(){return e({type:"RESET_FOR_NEXT_MOVE"})},enableModal:function(t){return e(h(t))},removeModal:function(){return e({type:"REMOVE_MODAL"})}}})(_)),A=n(80),x=n.n(A),I=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).noneStyle={display:"none"},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"renderModal",value:function(){switch(this.props.klass){case"loading":return s.a.createElement("img",{id:"loader",src:x.a});case"game-over":var e=this.props.moves===this.props.minMoves?"Wow! That was the perfect solution!":"Congrats! You could do better though! ;)";return s.a.createElement("div",{id:"modal"},s.a.createElement("p",{id:"modal-message"},e),s.a.createElement(E,{klass:"play again"}));default:return}}},{key:"render",value:function(){return s.a.createElement("div",{id:"".concat("loading"===this.props.klass?"loader":"modal","-container"),style:this.props.mode?{}:this.noneStyle},this.renderModal())}}]),t}(s.a.Component),L=Object(i.b)(function(e){return e.ui},null)(I),F=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={loaded:!1,discsNum:n.props.discsNum},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.setState({loaded:!0})},this.props.delay)}},{key:"componentWillReceiveProps",value:function(e){N(this.props.discs,e.discs)&&this.setState({discsNum:e.discsNum})}},{key:"componentDidUpdate",value:function(){var e=this;Object.values(this.props.discs).every(function(e){return 0===e.length})?this.props.buildTowers():this.props.discs[2].length===this.props.discsNum&&"game-over"!==this.props.mode&&setTimeout(function(){return e.props.enableModal("game-over")},3e3)}},{key:"startGame",value:function(){var e=this;return D(3).map(function(t){return s.a.createElement(R,{key:t,idx:t,delay:e.props.delay+500,totalDiscsNum:e.state.discsNum,noOfDiscs:0===t?e.state.discsNum:0,setEndTower:function(t){return e.props.setEndTower(t)}})})}},{key:"render",value:function(){return s.a.createElement("div",{id:"playground",className:this.state.loaded?"":"hidden"},this.startGame(),s.a.createElement(L,{klass:this.props.mode,moves:this.props.moves,minMoves:this.props.minMoves}))}}]),t}(s.a.Component),B=Object(w.DragDropContext)(M.a)(Object(i.b)(function(e){var t=e.game;return{discsNum:t.discsNum,discs:t.discs,moves:t.moves,minMoves:t.minMoves,mode:e.ui.mode}},function(e){return{setEndTower:function(t){return e(function(e){return{type:"SET_END_TOWER",tower:e}}(t))},buildTowers:function(){return e({type:"BUILD_TOWERS"})},enableModal:function(t){return e(h(t))}}})(F)),V=(n(217),n(218),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement(p,{delay:500}),s.a.createElement(g,{delay:1e3}),s.a.createElement(B,{delay:1500}))}}]),t}(s.a.Component)),H=function(e){var t=e.store;return s.a.createElement(i.a,{store:t},s.a.createElement(V,null))},W=n(9),U={discsNum:3,moves:0,minMoves:Math.pow(2,3)-1,discs:j(3),startTower:null,endTower:null,removedDisc:null,isActive:!0},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;Object.freeze(e);var n=JSON.parse(JSON.stringify(e));switch(t.type){case"SET_END_TOWER":return n.endTower=t.tower,n;case"MOVE_DISC_FROM":var r=t.tower;if(n.startTower=r,n.startTower===n.endTower)return n;var s=(r=n.discs[r]).shift();n.removedDisc=s;var a=n.discs[n.endTower];return"number"!==typeof a[0]||n.removedDisc<a[0]?(a.unshift(n.removedDisc),n.moves+=1):n.discs[n.startTower].unshift(n.removedDisc),n;case"RESET_FOR_NEXT_MOVE":return n.removedDisc=null,n.startTower=null,n.endTower=null,n;case"RESTART_GAME":return n.discs=j(0),n.moves=0,n;case"BUILD_TOWERS":return n.discs=j(n.discsNum),n;case"INCREMENT_DISCS_NUM":return 8===n.discsNum?n:(n.discsNum+=1,n.moves=0,n.minMoves=Math.pow(2,n.discsNum)-1,n.discs=j(0),n);case"DECREMENT_DISCS_NUM":return 3===n.discsNum?n:(n.discsNum-=1,n.moves=0,n.minMoves=Math.pow(2,n.discsNum)-1,n.discs=j(0),n);default:return e}},J={mode:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;Object.freeze(e);var n=JSON.parse(JSON.stringify(e));switch(t.type){case"ENABLE_MODAL":return n.mode=t.mode,n;case"REMOVE_MODAL":return n.mode=!1,n;default:return e}},X=Object(W.combineReducers)({game:G,ui:P}),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(W.createStore)(X,e)};document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("root"),t=z({});o.a.render(s.a.createElement(H,{store:t}),e)})},80:function(e,t,n){e.exports=n.p+"static/media/loader.9e0373c2.gif"},81:function(e,t,n){e.exports=n(219)},90:function(e,t,n){e.exports=n.p+"static/media/ToT.e7aec5e1.svg"}},[[81,1,2]]]);
//# sourceMappingURL=main.ad475729.chunk.js.map